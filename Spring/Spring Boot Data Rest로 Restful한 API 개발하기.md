# Spring Boot Data Rest로 RESTful한 API 개발하기
서버 개발자라면 REST API를 공부해야 합니다. 왜 그럴까요?
첫 째로, 갈수록 다양해 지는 브라우저(크롬, 익스, 파폭, 웨일, 스윙..) 및 안드로이드, 아이폰 환경 등 여러 클라이언트 환경에게 데이터를 제공해 주기 위해서 대부분의 회사는 REST API로 개발하기 때문입니다.<br> 
둘 째로, 현재 네트워크 통신 아키텍처로 가장 각광받는건 REST입니다. 이는 누구도 부인할 수 없는 현실입니다. 계속 더 좋고 다양한 아키텍처들(GraphQL...)이 나오고 있지만 향후 2~3년간 REST는 아마도(?) 변함없이 굳건할 것이기 때문입니다. 
그렇기 때문에 서버 개발자라면 REST가 뭔지, RESTful하게 개발하려면 어떻게 해야할지 공부해야 합니다. REST가 뭔지 알았다면 그동안 아무생각없이 @RestController로 작성했던 스프링 MVC 프로젝트들이 떠오를 것입니다. 여기까지 공감하며 자신이 
REST에 대해 제대로 알고 있지 못하다면 이 글은 당신을 위한 글입니다. 항상 제대로 몰르고 지나쳤던 REST에 대해 이번 기회에 확실히 짚고 넘어가시는건 어떨까요? 여기 아주 핵심적이며 빠르고 쉽게(?) 개발할 수 있는 환경들도 정리해 보았습니다. 
특히 스프링 부트에서는 훨씬 빠르게, 간편하게 그리고 커스터마이징도 쉬운(?) 환경으로 REST프로젝트를 제공하고 있습니다. 이제 이유를 알았으니 하나씩 순서데로 파보겠습니다!

## REST란?
REST는 Representational State Transfer의 약자로 쉽게 말해 웹의 장점을 최대화 할 수 있는 통신을 위한 네트워크 아키텍처입니다. 동시에 웹의 기본 아키텍처 원칙입니다. 문장에서 추상적인 부분을 캐치하신 분들은 "그렇다면 웹의 장점은 무엇이지?"라는 생각이 떠오를 것입니다. 
웹은 전송방식으로 HTTP를, 식별방법은 URI를 사용합니다. 특히 HTTP는 우리가 흔히 사용하는 GET, POST, PUT, DELETE...등의 메소드를 사용하는 프로토콜입니다.  
심플하게 이해하자면 **웹의 단순하고 간결한 장점(HTTP, URL의 사용)을 그대로 계승하여 디자인하기 때문에 REST는 웹의 장점을 최대화 할 수 있는 네트워트 아키텍처라고 말할 수 있습니다.** 
때문에 때로는 단순하게, 때로는 서버와 클라이언트가 서로 통신하는 리소스에 대해 복잡한 방식으로 상호작용을 할 수 있게 해줍니다. 핵심적인 제약 조건은 웹의 경우 HTML이 사용된 미디어에 대해 서버와 클라이언트가 모두 허용해야 한다는 것입니다. 
그렇다면 REST의 제약조건들은 어떤것들이 있을까요?
>아래에서 서버는 곧 REST서버를 말합니다.
- client-server: 클라이언트와 서버 제약 조건의 기본 원칙은 관심사의 명확한 분리가 되어야 합니다. 그렇게 되면 서버 구성요소가 단순화되어 여러 플랫폼 지원을 위한 확장성이 향상됩니다. 
- stateless(무상태): 서버에서 클라이언트의 상태정보를 따로 저장하지 않습니다. 단순히 들어오는 요청만 처리하는 구조여야 합니다.
- cacheable(캐싱가능): 클라이언트의 응답을 캐싱할 수 있어야 합니다.(앞에서 HTTP의 장점을 그대로 계승한 아키텍처가 REST라 하였습니다. 따라서 HTTP의 캐싱 기능도 적용할 수 있습니다.)
- layered system(계층화): 서버는 중개 서버(게이트웨이, 프록시)나 로드 밸런싱, 공유 캐시 등의 기능을 사용하여 확장성있는 시스템을 구성할 수 있습니다.
- code-on-demand(요구 코드)(optional): 서버는 (자바 애플릿, 자바스크립트가 제공하는)실행 코드를 전송하여 클라이언트의 기능을 일시적으로 확장시킬 수 있습니다.
- **uniform interface(인터페이스 일관성)**: URI(식별자)로 지정된 리소스에 대해 균일하고 통일된 인퍼페이스로 설계합니다. 아키텍처를 단순하게 분리하여 독릭접으로 만들 수 있습니다.
	- Resource identification in requests: 각각의 자원은 요청에서 식별됩니다. 예를 들어, 데이터베이스의 데이터를 직접 전송하는 대신 HTML, XML, JSON 등의 형식으로 전송합니다.
	- Resource manipulation through representations: 클라이언트가 특정 메세지나 메타데이터를 갖고 있으면 자원을 수정, 삭제할 수 있는 충분한 정보를 갖고있는 것입니다.
	- **Self-descriptive messages**: 각 메세지는 자신을 어떻게 처리해야 하는지 충분한 정보를 포함해야 한다.
	- **Hypermedia as the engine of application state(HATEOAS)**: URI를 제공해주는 하이퍼텍스트 링크와 같이 클라이언트에게 응답할 때 관련된 리소스 정보를 알려줘야 한다.

## RESTful하려면 어떻게 해야될까?
https://stackoverflow.com/questions/671118/what-exactly-is-restful-programming
>RESTful과 관련하여 훌륭한 자료가 [여기](http://slides.com/eungjun/rest#/) 있습니다. 2017 Deview에서 '그런 REST API로 괜찮은가'라는 주제로 발표하신 이응준님의 자료입니다. 제가 간추려서 설명하였지만 더 자세히 알고 싶으시다면 꼭 참고하시기 바랍니다.

REST의 제약조건들을 제대로 지키면서 REST 아키텍처를 만드는 것을 RESTful이라고 칭합니다. 특히 제약조건중 하이퍼텍스트를 포함하여 self-descriptive(자기 서술적)하며 uniform interface(인터페이스 일관성)를 통해 리소스에 접근하는 API여야 RESTful하다 할 수 있습니다. 
위의 제약조건들중 강조표시가 들어갔던 제약조건들에 해당합니다. **쉽게 말해서 인터페이스가 일관된 즉, 표준이 있어야 하며 자기자신이 어떻게 처리되는지에 대한 충분한 정보와 관련된 리소스를 하이퍼텍스트 링크를 포함시켜야 이놈이 RESTful**하구나 라고 생각할 수 있습니다. 
- HATEOAS에 대해 더 자세히 말하자면
	- 응답 데이터와 관련된 하이퍼미디어 링크를 추가형 사이트의 REST 인터페이스를 동적으로 탐색할 수 있도록 도와줍니다. 이 제약조건의 장점을 쉽게 설명하자면
	- **첫 째로, 클라이언트는 관련된 특정 동작에 따라 탐색할 만한 URI값을 알 수 있습니다. URI뿐만 아니라 resource까지 포함하기에 더 명확하고 예측가능합니다.**
	- **둘 째로, 키값이 변하지 않는 한 URI가 변경되더라도 동적으로 사용가능 합니다. 따라서, 서버의 코드가 변하더라도 클라이언트의 코드를 따로 수정할 필요가 없어집니다.**
	
>말도 어렵고 이해가 잘 안된다구요? 예제를 보면서 일단 감을 익혀보겠습니다. (예제를 작성하려 하였으나...자세한 예제는 아래 프로젝트를 실제로 진행하면서 살펴보기로 하고 훨씬 자세하고 알기쉽게 나온 [위의 문서](http://slides.com/eungjun/rest#/)를 참고하시기 바랍니다. 바쁘신분들은 67페이지부터...)

## @RestController로 RESTful한 API를 만들어 보자!
사실 이걸 만들어야 하나 고민하였는데...그래도 생짜로 만드는거랑 부트를 사용하여 만드는거랑 뭔 차이가 있나 비교해 드리면 "아! 이래서 부트를 쓰고 이 글을 썼구나"라는 생각에 보탬이 될까봐 힘들지만 코드를 작성해 보았습니다.


## Spring Boot Data Rest

